<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Skills</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <header>
      <h2 class="logo">LocaLink</h2>
      <nav class="navigation">
        <a href="/home-worker">Home</a>
        <a href="#">About</a>
        <a href="/logout">Logout</a>
        <!-- Add a logout link -->
      </nav>
    </header>
    <div class="form-box skills">
      <h2>Skills</h2>
      <form action="/skills" method="post" class="input-box skill-box">
        <div class="input-box">
          <select name="skillname" id="skillSelect">
            <option selected>Select Skill</option>
        </select>
        </div>
        <div class="input-box">
          <input name="experience" type="text" required>
          <label>Experience</label>
        </div>
        <div class="input-box">
          <input name="preferredRate" type="number" required>   
          <label>Preferred Rate</label>       
        </div>

        <button type="submit" id ="add-another-skill" class="btn">Add another skill</button>
       <!-- <button type="button" id="skills-redirect" class="btn">Finished</button> -->
      </form>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('hi')
            fetch('http://localhost:3001/skillsArray')
              .then(res => res.json())  
              .then(data => {
                  const select = document.getElementById('skillSelect');
                  console.log('hi')
                  data.forEach(skill => {
                      const option = document.createElement('option');
                      option.value = skill.name;
                      option.textContent = skill.name;
                      select.appendChild(option);
                  });
              })
              .catch(error => console.error('Error loading the skills:', error));
        });
    </script>

  </body>
</html>
